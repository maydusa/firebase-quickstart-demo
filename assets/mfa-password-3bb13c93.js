import{i as T,g as W,o as z,n as G,u as J,p as K,s as $,q as j,r as Q,P as C,v as d,w as D,f as X,R as Y}from"./index-dd468b12-d916cc71.js";/* empty css             *//**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */T(X);const t=W();let a=null,r=null,p=null,y=null;const A=document.getElementById("email"),O=document.getElementById("password"),x=document.getElementById("mfa-modal"),N=document.getElementById("phone-number"),w=document.getElementById("quickstart-sign-out"),L=document.getElementById("quickstart-enroll"),V=document.getElementById("quickstart-verify-email"),P=document.getElementById("quickstart-sign-in-status"),Z=document.getElementById("quickstart-sign-in"),ee=document.getElementById("quickstart-sign-up"),ne=document.getElementById("quickstart-password-reset"),te=document.getElementById("enroll-send-code-form"),oe=document.getElementById("enroll-cancel-send-code-button"),ie=document.getElementById("enroll-verification-code-form"),ce=document.getElementById("enroll-cancel-verify-code-button"),se=document.getElementById("sign-in-send-code-form"),ae=document.getElementById("sign-in-cancel-send-code-button"),E=document.getElementById("mfa-hints"),re=document.getElementById("sign-in-verification-code-form"),le=document.getElementById("sign-in-cancel-verify-code-button");function de(){const e=A.value,n=O.value;G(t,e,n).then(function(){l("User signed in!")}).catch(function(o){if(o.code==="auth/multi-factor-auth-required"){a=J(t,o),_();return}h(o)})}function ue(){const e=A.value,n=O.value;K(t,e,n).then(function(){l("New user created!")}).catch(h)}function me(){$(t).then(function(){l("User signed out!")}).catch(h)}function fe(){t.currentUser&&j(t.currentUser).then(function(){l("Email Verification Sent!")}).catch(h)}function ge(){const e=A.value;Q(t,e).then(function(){l("Password Reset Email Sent!")}).catch(h)}function M(){f("mfa-error-message"),a?(g("mfa-sign-in-modal"),f("mfa-enroll-modal"),r?(F(),f("sign-in-send-code-form"),g("sign-in-verification-code-form")):(he(a.hints),g("sign-in-send-code-form"),f("sign-in-verification-code-form"),q("sign-in-recaptcha-container"),b())):(f("mfa-sign-in-modal"),g("mfa-enroll-modal"),r?(F(),f("enroll-send-code-form"),g("enroll-verification-code-form")):(g("enroll-send-code-form"),f("enroll-verification-code-form"),q("enroll-recaptcha-container"),I()))}function pe(){t.currentUser&&t.currentUser.reload().then(function(){_()}).catch(h)}function _(){M(),x.show()}function q(e){p=new Y(t,e,{size:"normal",callback:function(n){I(),b()},"expired-callback":function(){I(),b()}}),p.render().then(function(n){console.log({widgetId:n}),y=n})}function B(e){const n=e?JSON.stringify(e,null,"  "):null;document.getElementById("quickstart-account-details").textContent=n}function v(e){const n=document.getElementById("mfa-enrolled-factors");n.innerHTML="",e.length==0&&(n.innerHTML="N/A"),e.forEach(function(o,i){const c=o.displayName||"N/A",s=o.phoneNumber??"NO_PHONE_NUMBER",u=document.createElement("li");u.classList.add("mdl-list__item"),u.setAttribute("data-val",i.toString()),u.textContent=s+"  "+c;const m=document.createElement("i");m.classList.add("material-icons"),m.classList.add("mdl-list__item-icon"),m.textContent="delete",m.addEventListener("click",be),u.appendChild(m),n.appendChild(u)})}function he(e){E.innerHTML="",E.appendChild(document.createElement("option")),e.forEach(function(n,o){const i=document.createElement("option");i.setAttribute("data-val",o.toString()),i.textContent=n.phoneNumber??"NO_PHONE_NUMBER",E.appendChild(i)})}function Ee(e){const n=document.getElementById("mfa-hint-label");n.className=n.className.replace(" is-active",""),e.target.value&&(n.className+=" is-active")}async function Ie(e){if(e.preventDefault(),U()&&H()&&t.currentUser){const n=N.value,o=new C(t);d(t.currentUser).getSession().then(function(i){const c={phoneNumber:n,session:i};return o.verifyPhoneNumber(c,p)}).then(function(i){r=i,M()},function(i){I(),k(i)})}}function ve(e){if(e.preventDefault(),t.currentUser&&r){const o=document.getElementById("enroll-verification-code").value,i=C.credential(r,o),c=D.assertion(i),u=document.getElementById("enroll-display-name").value||void 0;d(t.currentUser).enroll(c,u).then(function(){B(t.currentUser);const m=d(t.currentUser).enrolledFactors;v(m),R(),l("Second factor enrolled!")}).catch(k)}}function ye(e){if(e.preventDefault(),U()&&a){const n=parseInt(E.options[E.selectedIndex].getAttribute("data-val"),10),o=a.hints[n],i=new C(t),c={multiFactorHint:o,session:a.session};i.verifyPhoneNumber(c,p).then(function(s){r=s,M()},function(s){b(),k(s)})}}function Be(e){if(e.preventDefault(),a&&r){const o=document.getElementById("sign-in-verification-code").value,i=C.credential(r,o),c=D.assertion(i);a.resolveSignIn(c).then(function(){l("Signed in with second factor!"),R();const s=d(t.currentUser).enrolledFactors;v(s)}).catch(k)}}function be(e){const o=e.target.parentNode,i=parseInt(o.getAttribute("data-val"),10);if(t.currentUser){const c=d(t.currentUser).enrolledFactors[i];c&&d(t.currentUser).unenroll(c).then(function(){l(c.phoneNumber??"NO_PHONE_NUMBER has been unenrolled!"),B(t.currentUser);const s=t.currentUser&&d(t.currentUser).enrolledFactors||[];v(s)}).catch(h)}}function S(e){e.preventDefault(),R()}function H(){const e=/^\+[0-9\s\-()]+$/;return N.value.search(e)!==-1}function U(){return typeof grecaptcha<"u"&&y!==null?!!grecaptcha.getResponse(y):!1}function I(){const e=document.getElementById("enroll-send-code-button");e.disabled=!U()||!H()}function b(){const e=document.getElementById("sign-in-send-code-button");e.disabled=!U()}function F(){p&&(p.clear(),p=null),y=null}function R(){a=null,r=null,x.close(),F()}function g(e){const n=document.getElementById(e);n&&(n.style.display="block")}function f(e){const n=document.getElementById(e);n&&(n.style.display="none")}function h(e){l(e.message),console.error(e)}function k(e){console.error(e),document.getElementById("mfa-error-message").textContent=e.message,g("mfa-error-message")}function l(e){const n=document.getElementById("quickstart-snackbar"),o={message:e};n.MaterialSnackbar.showSnackbar(o)}z(t,function(e){w.disabled=!0,L.disabled=!0,V.disabled=!0,e?(P.textContent="Signed in",w.disabled=!1,L.disabled=!1,e.emailVerified||(V.disabled=!1),B(e),v(d(e).enrolledFactors)):(P.textContent="Signed out",B(null),v([]))});Z.addEventListener("click",de);ee.addEventListener("click",ue);w.addEventListener("click",me);V.addEventListener("click",fe);ne.addEventListener("click",ge);L.addEventListener("click",pe);N.addEventListener("keyup",I);N.addEventListener("change",I);te.addEventListener("submit",Ie);oe.addEventListener("click",S);ie.addEventListener("submit",ve);ce.addEventListener("click",S);se.addEventListener("submit",ye);ae.addEventListener("click",S);E.addEventListener("change",Ee);re.addEventListener("submit",Be);le.addEventListener("click",S);
